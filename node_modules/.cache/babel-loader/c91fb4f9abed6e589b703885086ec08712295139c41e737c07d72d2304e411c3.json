{"ast":null,"code":"import _objectSpread from\"C:/Users/HABEEB SHOLANKE/Desktop/foodapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice}from\"@reduxjs/toolkit\";var cartSlice=createSlice({name:\"cart\",initialState:{items:[],totalAmount:0},reducers:{addItemHandler:function addItemHandler(currentState,action){var newItem=action.payload;currentState.totalAmount=currentState.totalAmount+newItem.price*newItem.amount;var existingCartItemIndex=currentState.items.findIndex(function(item){return item.id===newItem.id;});var existingCartItem=currentState.items[existingCartItemIndex];if(existingCartItem){var updateItemAmt=_objectSpread(_objectSpread({},existingCartItem),{},{amount:existingCartItem.amount+newItem.amount});// updateCartItems = [...currentState.items];\ncurrentState.items[existingCartItemIndex]=updateItemAmt;}else{currentState.items.push({id:newItem.id,name:newItem.name,price:newItem.price,amount:newItem.amount});}},removeItemhandler:function removeItemhandler(currentState,action){var itemId=action.payload;var existingCartItemIndex=currentState.items.findIndex(function(item){return item.id===itemId;});var existingCartItem=currentState.items[existingCartItemIndex];currentState.totalAmount=currentState.totalAmount-existingCartItem.price;if(existingCartItem.amount===1){currentState.items=currentState.items.filter(function(item){return item.id!==itemId;});}else{var updateItemAmt=_objectSpread(_objectSpread({},existingCartItem),{},{amount:existingCartItem.amount-1});// updateCartItems = [...currentState.items];\ncurrentState.items[existingCartItemIndex]=updateItemAmt;}},clearCartHandler:function clearCartHandler(currentState){return currentState;}}});export var cartSliceAction=cartSlice.actions;export default cartSlice;","map":{"version":3,"names":["createSlice","cartSlice","name","initialState","items","totalAmount","reducers","addItemHandler","currentState","action","newItem","payload","price","amount","existingCartItemIndex","findIndex","item","id","existingCartItem","updateItemAmt","push","removeItemhandler","itemId","filter","clearCartHandler","cartSliceAction","actions"],"sources":["C:/Users/HABEEB SHOLANKE/Desktop/foodapp/src/store/cartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst cartSlice = createSlice({\r\n  name: \"cart\",\r\n  initialState: {\r\n    items: [],\r\n    totalAmount: 0,\r\n  },\r\n\r\n  reducers: {\r\n    addItemHandler(currentState, action) {\r\n      const newItem = action.payload;\r\n      currentState.totalAmount =\r\n        currentState.totalAmount + newItem.price * newItem.amount;\r\n\r\n      const existingCartItemIndex = currentState.items.findIndex(\r\n        (item) => item.id === newItem.id\r\n      );\r\n\r\n      const existingCartItem = currentState.items[existingCartItemIndex];\r\n\r\n      if (existingCartItem) {\r\n        const updateItemAmt = {\r\n          ...existingCartItem,\r\n          amount: existingCartItem.amount + newItem.amount,\r\n        };\r\n        // updateCartItems = [...currentState.items];\r\n        currentState.items[existingCartItemIndex] = updateItemAmt;\r\n      } else {\r\n        currentState.items.push({\r\n          id: newItem.id,\r\n          name: newItem.name,\r\n          price: newItem.price,\r\n          amount: newItem.amount,\r\n        });\r\n      }\r\n    },\r\n    removeItemhandler(currentState, action) {\r\n      const itemId = action.payload;\r\n\r\n      const existingCartItemIndex = currentState.items.findIndex(\r\n        (item) => item.id === itemId\r\n      );\r\n      const existingCartItem = currentState.items[existingCartItemIndex];\r\n      currentState.totalAmount =\r\n        currentState.totalAmount - existingCartItem.price;\r\n\r\n      if (existingCartItem.amount === 1) {\r\n        currentState.items = currentState.items.filter(\r\n          (item) => item.id !== itemId\r\n        );\r\n      } else {\r\n        const updateItemAmt = {\r\n          ...existingCartItem,\r\n          amount: existingCartItem.amount - 1,\r\n        };\r\n        // updateCartItems = [...currentState.items];\r\n        currentState.items[existingCartItemIndex] = updateItemAmt;\r\n      }\r\n    },\r\n    clearCartHandler(currentState) {\r\n      return currentState;\r\n    },\r\n  },\r\n});\r\n\r\nexport const cartSliceAction = cartSlice.actions;\r\n\r\nexport default cartSlice;\r\n"],"mappings":"6HAAA,OAASA,WAAW,KAAQ,kBAAkB,CAE9C,GAAMC,UAAS,CAAGD,WAAW,CAAC,CAC5BE,IAAI,CAAE,MAAM,CACZC,YAAY,CAAE,CACZC,KAAK,CAAE,EAAE,CACTC,WAAW,CAAE,CACf,CAAC,CAEDC,QAAQ,CAAE,CACRC,cAAc,yBAACC,YAAY,CAAEC,MAAM,CAAE,CACnC,GAAMC,QAAO,CAAGD,MAAM,CAACE,OAAO,CAC9BH,YAAY,CAACH,WAAW,CACtBG,YAAY,CAACH,WAAW,CAAGK,OAAO,CAACE,KAAK,CAAGF,OAAO,CAACG,MAAM,CAE3D,GAAMC,sBAAqB,CAAGN,YAAY,CAACJ,KAAK,CAACW,SAAS,CACxD,SAACC,IAAI,QAAKA,KAAI,CAACC,EAAE,GAAKP,OAAO,CAACO,EAAE,GACjC,CAED,GAAMC,iBAAgB,CAAGV,YAAY,CAACJ,KAAK,CAACU,qBAAqB,CAAC,CAElE,GAAII,gBAAgB,CAAE,CACpB,GAAMC,cAAa,gCACdD,gBAAgB,MACnBL,MAAM,CAAEK,gBAAgB,CAACL,MAAM,CAAGH,OAAO,CAACG,MAAM,EACjD,CACD;AACAL,YAAY,CAACJ,KAAK,CAACU,qBAAqB,CAAC,CAAGK,aAAa,CAC3D,CAAC,IAAM,CACLX,YAAY,CAACJ,KAAK,CAACgB,IAAI,CAAC,CACtBH,EAAE,CAAEP,OAAO,CAACO,EAAE,CACdf,IAAI,CAAEQ,OAAO,CAACR,IAAI,CAClBU,KAAK,CAAEF,OAAO,CAACE,KAAK,CACpBC,MAAM,CAAEH,OAAO,CAACG,MAClB,CAAC,CAAC,CACJ,CACF,CAAC,CACDQ,iBAAiB,4BAACb,YAAY,CAAEC,MAAM,CAAE,CACtC,GAAMa,OAAM,CAAGb,MAAM,CAACE,OAAO,CAE7B,GAAMG,sBAAqB,CAAGN,YAAY,CAACJ,KAAK,CAACW,SAAS,CACxD,SAACC,IAAI,QAAKA,KAAI,CAACC,EAAE,GAAKK,MAAM,GAC7B,CACD,GAAMJ,iBAAgB,CAAGV,YAAY,CAACJ,KAAK,CAACU,qBAAqB,CAAC,CAClEN,YAAY,CAACH,WAAW,CACtBG,YAAY,CAACH,WAAW,CAAGa,gBAAgB,CAACN,KAAK,CAEnD,GAAIM,gBAAgB,CAACL,MAAM,GAAK,CAAC,CAAE,CACjCL,YAAY,CAACJ,KAAK,CAAGI,YAAY,CAACJ,KAAK,CAACmB,MAAM,CAC5C,SAACP,IAAI,QAAKA,KAAI,CAACC,EAAE,GAAKK,MAAM,GAC7B,CACH,CAAC,IAAM,CACL,GAAMH,cAAa,gCACdD,gBAAgB,MACnBL,MAAM,CAAEK,gBAAgB,CAACL,MAAM,CAAG,CAAC,EACpC,CACD;AACAL,YAAY,CAACJ,KAAK,CAACU,qBAAqB,CAAC,CAAGK,aAAa,CAC3D,CACF,CAAC,CACDK,gBAAgB,2BAAChB,YAAY,CAAE,CAC7B,MAAOA,aAAY,CACrB,CACF,CACF,CAAC,CAAC,CAEF,MAAO,IAAMiB,gBAAe,CAAGxB,SAAS,CAACyB,OAAO,CAEhD,cAAezB,UAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}