{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState: {\n    items: [],\n    totalAmount: 0\n  },\n  reducers: {\n    addItemHandler(currentState, action) {\n      const newItem = action.payload;\n      currentState.totalAmount = currentState.totalAmount + newItem.price * newItem.amount;\n      const existingCartItemIndex = currentState.items.findIndex(item => item.id === newItem.id);\n      const existingCartItem = currentState.items[existingCartItemIndex];\n      let updateCartItems;\n      if (existingCartItem) {\n        const updateItemAmt = {\n          ...existingCartItem,\n          amount: existingCartItem.amount + newItem.amount\n        };\n        updateCartItems = [...currentState.items];\n        currentState.items[existingCartItemIndex] = updateItemAmt;\n      } else {\n        currentState.items.push({\n          id: newItem.id,\n          name: newItem.name,\n          price: newItem.price,\n          amount: newItem.amount\n        });\n      }\n    },\n    removeItemhandler(currentState, action) {\n      const removeItem = action.payload;\n      const existingCartItemIndex = currentState.items.findIndex(item => item.id === removeItem.id);\n      const existingCartItem = currentState.items[existingCartItemIndex];\n      const updateTotalAmount = currentState.totalAmount - existingCartItem.price;\n      if (existingCartItem.amount === 1) {\n        currentState.items = currentState.items.filter(item => item.id !== action.id);\n      }\n    }\n  }\n});\nexport const cartSliceAction = cartSlice.actions;\nexport default cartSlice;","map":{"version":3,"names":["createSlice","cartSlice","name","initialState","items","totalAmount","reducers","addItemHandler","currentState","action","newItem","payload","price","amount","existingCartItemIndex","findIndex","item","id","existingCartItem","updateCartItems","updateItemAmt","push","removeItemhandler","removeItem","updateTotalAmount","filter","cartSliceAction","actions"],"sources":["C:/Users/HABEEB SHOLANKE/Desktop/foodapp/src/store/cartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst cartSlice = createSlice({\r\n  name: \"cart\",\r\n  initialState: {\r\n    items: [],\r\n    totalAmount: 0,\r\n  },\r\n\r\n  reducers: {\r\n    addItemHandler(currentState, action) {\r\n      const newItem = action.payload;\r\n      currentState.totalAmount =\r\n        currentState.totalAmount + newItem.price * newItem.amount;\r\n\r\n      const existingCartItemIndex = currentState.items.findIndex(\r\n        (item) => item.id === newItem.id\r\n      );\r\n\r\n      const existingCartItem = currentState.items[existingCartItemIndex];\r\n\r\n      let updateCartItems;\r\n      if (existingCartItem) {\r\n        const updateItemAmt = {\r\n          ...existingCartItem,\r\n          amount: existingCartItem.amount + newItem.amount,\r\n        };\r\n        updateCartItems = [...currentState.items];\r\n        currentState.items[existingCartItemIndex] = updateItemAmt;\r\n      } else {\r\n        currentState.items.push({\r\n          id: newItem.id,\r\n          name: newItem.name,\r\n          price: newItem.price,\r\n          amount:newItem.amount\r\n        });\r\n      }\r\n    },\r\n    removeItemhandler(currentState,action){\r\nconst removeItem=action.payload\r\n\r\n        const existingCartItemIndex = currentState.items.findIndex(\r\n            (item) => item.id === removeItem.id\r\n          );\r\n          const existingCartItem = currentState.items[existingCartItemIndex];\r\n          const updateTotalAmount = currentState.totalAmount - existingCartItem.price;\r\n\r\n          if (existingCartItem.amount === 1) {\r\n            currentState.items = currentState.items.filter((item) => item.id !== action.id);\r\n          }\r\n\r\n    }\r\n  },\r\n\r\n \r\n});\r\n\r\n\r\n\r\nexport const cartSliceAction = cartSlice.actions;\r\n\r\nexport default cartSlice;\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,SAAS,GAAGD,WAAW,CAAC;EAC5BE,IAAI,EAAE,MAAM;EACZC,YAAY,EAAE;IACZC,KAAK,EAAE,EAAE;IACTC,WAAW,EAAE;EACf,CAAC;EAEDC,QAAQ,EAAE;IACRC,cAAc,CAACC,YAAY,EAAEC,MAAM,EAAE;MACnC,MAAMC,OAAO,GAAGD,MAAM,CAACE,OAAO;MAC9BH,YAAY,CAACH,WAAW,GACtBG,YAAY,CAACH,WAAW,GAAGK,OAAO,CAACE,KAAK,GAAGF,OAAO,CAACG,MAAM;MAE3D,MAAMC,qBAAqB,GAAGN,YAAY,CAACJ,KAAK,CAACW,SAAS,CACvDC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKP,OAAO,CAACO,EAAE,CACjC;MAED,MAAMC,gBAAgB,GAAGV,YAAY,CAACJ,KAAK,CAACU,qBAAqB,CAAC;MAElE,IAAIK,eAAe;MACnB,IAAID,gBAAgB,EAAE;QACpB,MAAME,aAAa,GAAG;UACpB,GAAGF,gBAAgB;UACnBL,MAAM,EAAEK,gBAAgB,CAACL,MAAM,GAAGH,OAAO,CAACG;QAC5C,CAAC;QACDM,eAAe,GAAG,CAAC,GAAGX,YAAY,CAACJ,KAAK,CAAC;QACzCI,YAAY,CAACJ,KAAK,CAACU,qBAAqB,CAAC,GAAGM,aAAa;MAC3D,CAAC,MAAM;QACLZ,YAAY,CAACJ,KAAK,CAACiB,IAAI,CAAC;UACtBJ,EAAE,EAAEP,OAAO,CAACO,EAAE;UACdf,IAAI,EAAEQ,OAAO,CAACR,IAAI;UAClBU,KAAK,EAAEF,OAAO,CAACE,KAAK;UACpBC,MAAM,EAACH,OAAO,CAACG;QACjB,CAAC,CAAC;MACJ;IACF,CAAC;IACDS,iBAAiB,CAACd,YAAY,EAACC,MAAM,EAAC;MAC1C,MAAMc,UAAU,GAACd,MAAM,CAACE,OAAO;MAEvB,MAAMG,qBAAqB,GAAGN,YAAY,CAACJ,KAAK,CAACW,SAAS,CACrDC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKM,UAAU,CAACN,EAAE,CACpC;MACD,MAAMC,gBAAgB,GAAGV,YAAY,CAACJ,KAAK,CAACU,qBAAqB,CAAC;MAClE,MAAMU,iBAAiB,GAAGhB,YAAY,CAACH,WAAW,GAAGa,gBAAgB,CAACN,KAAK;MAE3E,IAAIM,gBAAgB,CAACL,MAAM,KAAK,CAAC,EAAE;QACjCL,YAAY,CAACJ,KAAK,GAAGI,YAAY,CAACJ,KAAK,CAACqB,MAAM,CAAET,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKR,MAAM,CAACQ,EAAE,CAAC;MACjF;IAEN;EACF;AAGF,CAAC,CAAC;AAIF,OAAO,MAAMS,eAAe,GAAGzB,SAAS,CAAC0B,OAAO;AAEhD,eAAe1B,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}