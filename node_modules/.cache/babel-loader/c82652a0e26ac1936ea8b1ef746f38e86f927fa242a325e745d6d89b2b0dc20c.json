{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState: {\n    items: [],\n    totalAmount: 0\n  },\n  reducers: {\n    addItemHandler(currentState, action) {\n      const newItem = action.payload;\n      currentState.totalAmount = currentState.totalAmount + newItem.price * newItem.amount;\n      const existingCartItemIndex = currentState.items.findIndex(item => item.id === newItem.id);\n      const existingCartItem = currentState.items[existingCartItemIndex];\n      if (existingCartItem) {\n        const updateItemAmt = {\n          ...existingCartItem,\n          amount: existingCartItem.amount + newItem.amount\n        };\n        // updateCartItems = [...currentState.items];\n        currentState.items[existingCartItemIndex] = updateItemAmt;\n      } else {\n        currentState.items.push({\n          id: newItem.id,\n          name: newItem.name,\n          price: newItem.price,\n          amount: newItem.amount\n        });\n      }\n    },\n    removeItemhandler(currentState, action) {\n      const itemId = action.payload;\n      const existingCartItemIndex = currentState.items.findIndex(item => item.id === itemId);\n      const existingCartItem = currentState.items[existingCartItemIndex];\n      currentState.totalAmount = currentState.totalAmount - existingCartItem.price;\n      if (existingCartItem.amount === 1) {\n        currentState.items = currentState.items.filter(item => item.id !== itemId);\n      } else {\n        const updateItemAmt = {\n          ...existingCartItem,\n          amount: existingCartItem.amount - 1\n        };\n        // updateCartItems = [...currentState.items];\n        currentState.items[existingCartItemIndex] = updateItemAmt;\n      }\n    },\n    clearCartHandler(current) {}\n  }\n});\nexport const cartSliceAction = cartSlice.actions;\nexport default cartSlice;","map":{"version":3,"names":["createSlice","cartSlice","name","initialState","items","totalAmount","reducers","addItemHandler","currentState","action","newItem","payload","price","amount","existingCartItemIndex","findIndex","item","id","existingCartItem","updateItemAmt","push","removeItemhandler","itemId","filter","clearCartHandler","current","cartSliceAction","actions"],"sources":["C:/Users/HABEEB SHOLANKE/Desktop/foodapp/src/store/cartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst cartSlice = createSlice({\r\n  name: \"cart\",\r\n  initialState: {\r\n    items: [],\r\n    totalAmount: 0,\r\n  },\r\n\r\n  reducers: {\r\n    addItemHandler(currentState, action) {\r\n      const newItem = action.payload;\r\n      currentState.totalAmount =\r\n        currentState.totalAmount + newItem.price * newItem.amount;\r\n\r\n      const existingCartItemIndex = currentState.items.findIndex(\r\n        (item) => item.id === newItem.id\r\n      );\r\n\r\n      const existingCartItem = currentState.items[existingCartItemIndex];\r\n\r\n      if (existingCartItem) {\r\n        const updateItemAmt = {\r\n          ...existingCartItem,\r\n          amount: existingCartItem.amount + newItem.amount,\r\n        };\r\n        // updateCartItems = [...currentState.items];\r\n        currentState.items[existingCartItemIndex] = updateItemAmt;\r\n      } else {\r\n        currentState.items.push({\r\n          id: newItem.id,\r\n          name: newItem.name,\r\n          price: newItem.price,\r\n          amount: newItem.amount,\r\n        });\r\n      }\r\n    },\r\n    removeItemhandler(currentState, action) {\r\n      const itemId = action.payload;\r\n\r\n      const existingCartItemIndex = currentState.items.findIndex(\r\n        (item) => item.id === itemId \r\n      );\r\n      const existingCartItem = currentState.items[existingCartItemIndex];\r\n      currentState.totalAmount =\r\n        currentState.totalAmount - existingCartItem.price;\r\n\r\n      if (existingCartItem.amount === 1) {\r\n        currentState.items = currentState.items.filter(\r\n          (item) => item.id !== itemId \r\n        );\r\n      } else {\r\n        const updateItemAmt = {\r\n          ...existingCartItem,\r\n          amount: existingCartItem.amount - 1,\r\n        };\r\n        // updateCartItems = [...currentState.items];\r\n        currentState.items[existingCartItemIndex] = updateItemAmt;\r\n      }\r\n    },\r\n    clearCartHandler(current){\r\n\r\n    }\r\n  },\r\n});\r\n\r\nexport const cartSliceAction = cartSlice.actions;\r\n\r\nexport default cartSlice;\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,SAAS,GAAGD,WAAW,CAAC;EAC5BE,IAAI,EAAE,MAAM;EACZC,YAAY,EAAE;IACZC,KAAK,EAAE,EAAE;IACTC,WAAW,EAAE;EACf,CAAC;EAEDC,QAAQ,EAAE;IACRC,cAAc,CAACC,YAAY,EAAEC,MAAM,EAAE;MACnC,MAAMC,OAAO,GAAGD,MAAM,CAACE,OAAO;MAC9BH,YAAY,CAACH,WAAW,GACtBG,YAAY,CAACH,WAAW,GAAGK,OAAO,CAACE,KAAK,GAAGF,OAAO,CAACG,MAAM;MAE3D,MAAMC,qBAAqB,GAAGN,YAAY,CAACJ,KAAK,CAACW,SAAS,CACvDC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKP,OAAO,CAACO,EAAE,CACjC;MAED,MAAMC,gBAAgB,GAAGV,YAAY,CAACJ,KAAK,CAACU,qBAAqB,CAAC;MAElE,IAAII,gBAAgB,EAAE;QACpB,MAAMC,aAAa,GAAG;UACpB,GAAGD,gBAAgB;UACnBL,MAAM,EAAEK,gBAAgB,CAACL,MAAM,GAAGH,OAAO,CAACG;QAC5C,CAAC;QACD;QACAL,YAAY,CAACJ,KAAK,CAACU,qBAAqB,CAAC,GAAGK,aAAa;MAC3D,CAAC,MAAM;QACLX,YAAY,CAACJ,KAAK,CAACgB,IAAI,CAAC;UACtBH,EAAE,EAAEP,OAAO,CAACO,EAAE;UACdf,IAAI,EAAEQ,OAAO,CAACR,IAAI;UAClBU,KAAK,EAAEF,OAAO,CAACE,KAAK;UACpBC,MAAM,EAAEH,OAAO,CAACG;QAClB,CAAC,CAAC;MACJ;IACF,CAAC;IACDQ,iBAAiB,CAACb,YAAY,EAAEC,MAAM,EAAE;MACtC,MAAMa,MAAM,GAAGb,MAAM,CAACE,OAAO;MAE7B,MAAMG,qBAAqB,GAAGN,YAAY,CAACJ,KAAK,CAACW,SAAS,CACvDC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKK,MAAM,CAC7B;MACD,MAAMJ,gBAAgB,GAAGV,YAAY,CAACJ,KAAK,CAACU,qBAAqB,CAAC;MAClEN,YAAY,CAACH,WAAW,GACtBG,YAAY,CAACH,WAAW,GAAGa,gBAAgB,CAACN,KAAK;MAEnD,IAAIM,gBAAgB,CAACL,MAAM,KAAK,CAAC,EAAE;QACjCL,YAAY,CAACJ,KAAK,GAAGI,YAAY,CAACJ,KAAK,CAACmB,MAAM,CAC3CP,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKK,MAAM,CAC7B;MACH,CAAC,MAAM;QACL,MAAMH,aAAa,GAAG;UACpB,GAAGD,gBAAgB;UACnBL,MAAM,EAAEK,gBAAgB,CAACL,MAAM,GAAG;QACpC,CAAC;QACD;QACAL,YAAY,CAACJ,KAAK,CAACU,qBAAqB,CAAC,GAAGK,aAAa;MAC3D;IACF,CAAC;IACDK,gBAAgB,CAACC,OAAO,EAAC,CAEzB;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAMC,eAAe,GAAGzB,SAAS,CAAC0B,OAAO;AAEhD,eAAe1B,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}